╔══════════════════════════════════════════════════════════════╗
║          📱 FLUXO PARA OBTER QR CODE - GUIA RÁPIDO          ║
╚══════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────┐
│ PASSO 1: LOGIN (Pegar Company Token)                        │
└──────────────────────────────────────────────────────────────┘

POST /api/admin/login
{
  "email": "admin@growhub.com",
  "password": "admin123"
}

👉 Guarde o: company.token


┌──────────────────────────────────────────────────────────────┐
│ PASSO 2: CRIAR INSTÂNCIA (Company Token)                    │
└──────────────────────────────────────────────────────────────┘

POST /api/instances
Authorization: Bearer {company_token}
{
  "instance_name": "Vendas"
}

👉 Guarde o: data.token (INSTANCE TOKEN)


┌──────────────────────────────────────────────────────────────┐
│ PASSO 3: CONECTAR INSTÂNCIA (Instance Token) ⚡ IMPORTANTE!  │
└──────────────────────────────────────────────────────────────┘

POST /instance/connect
Authorization: Bearer {instance_token}  ⬅️ Token da instância!
{}

✅ Isso INICIA a sessão e GERA o QR code


┌──────────────────────────────────────────────────────────────┐
│ PASSO 4: PEGAR QR CODE (Instance Token)                     │
└──────────────────────────────────────────────────────────────┘

GET /instance/status
Authorization: Bearer {instance_token}

📱 Resposta terá o campo "qrcode" com a imagem em base64


┌──────────────────────────────────────────────────────────────┐
│ PASSO 5: VERIFICAR CONEXÃO (Instance Token)                 │
└──────────────────────────────────────────────────────────────┘

GET /instance/status (continuar chamando a cada 2-3 segundos)
Authorization: Bearer {instance_token}

Quando status = "connected" → PRONTO! 🎉


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  ⚠️  ERRO COMUM
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❌ ERRADO:
   1. Criar instância
   2. Tentar pegar QR code direto ❌ NÃO VAI TER!

✅ CERTO:
   1. Criar instância
   2. CONECTAR instância (POST /instance/connect) ⚡
   3. Aí sim pegar QR code!


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  💡 DICA PRO
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Pareamento por CÓDIGO (sem QR code):

POST /instance/connect
Authorization: Bearer {instance_token}
{
  "phone": "5511999999999"  ⬅️ Seu número de celular
}

Receberá um código de 8 dígitos para digitar no WhatsApp!


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  🎯 RESUMO SUPER RÁPIDO
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. POST /api/instances              (company_token)
   ↓ Recebe instance_token

2. POST /instance/connect           (instance_token) ⚡
   ↓ Inicia sessão

3. GET /instance/status             (instance_token)
   ↓ Pega QR code

4. Escaneia QR no celular           
   ↓ 

5. GET /instance/status             (instance_token)
   ↓ status = "connected" ✅


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📖 Guia completo: COMO-CONECTAR-INSTANCIA.md

